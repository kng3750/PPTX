[Cursor 사용 여행 루트 추천 AI 에이전트 제작 실습 질의문]

프로젝트 폴더명 : AI_Agent_Trip_Project

OpenAI API와 LangChain v1.0을 활용하여 "AI 여행 루트 추천 + 이미지 해석 + 웹 검색 통합 에이전트" 프로젝트 전체 코드를 생성해줘.

아래 요구사항을 모두 충족하는 완성형 프로젝트를 만들어줘.

------------------------------------------------------------
1. 프로젝트 개요
------------------------------------------------------------
- 사용자가 여행 목적지·기간·예산 등을 입력하면, 맞춤형 여행 일정(루트, 활동, 맛집 등)을 생성하는 AI Agent를 만든다.
- 사용자가 여행지 사진을 업로드하면, 해당 장소가 어디인지 추론하고 여행 일정 생성에 반영한다.
- DuckDuckGo 검색 API 또는 대체 가능한 검색 Tool을 이용해 최신 정보를 반영한다.
- 전체 로직을 LangChain v1.0 + create_agent() 기반으로 구현한다.

------------------------------------------------------------
2. 기능 요구사항
------------------------------------------------------------
[1] 텍스트 기반 여행 일정 추천 기능
    - 여행지, 날짜, 예산, 동행 인원 등을 입력받아 최적의 여행 일정을 생성한다.
    - 일정은 “날짜별 Day 1 / Day 2 / Day 3” 형태로 구분해준다.

[2] 이미지 기반 장소 추론 기능
    - 사용자가 이미지 파일을 업로드하면 Vision API로 분석한다.
    - 장소, 랜드마크, 분위기 등을 추론하고 일정 추천에 반영한다.

[3] 웹 검색 기반 최신 정보 반영
    - DuckDuckGo 검색을 이용하여 "최근 여행 트렌드 / 맛집 / 인기 스팟"을 검색해 일정에 포함한다.
    - Tool로 분리하여 에이전트가 필요 시 자동 호출한다.

[4] RAG 기능 (선택적 반영)
    - 여행 관련 기본 정보를 문서로 저장하고 검색할 수 있는 간단한 RAG 시스템 추가.
    - Chroma 또는 FAISS 중 하나로 구현.

[5] 에이전트 통합
    - create_agent()를 사용하여
       (1) 이미지 분석 도구
       (2) 웹 검색 도구
       (3) RAG 검색 도구
       (4) 일정 생성 도구
      를 통합한 하나의 메인 에이전트를 구성한다.

------------------------------------------------------------
3. 기술 요구사항
------------------------------------------------------------
- Python 파일 기반 프로젝트 구조 생성 (예: main.py, tools/, utils/, rag/, ui/)
- OpenAI API는 .env 로드 방식 적용
- 모든 Tool은 @tool 데코레이터로 정의
- 결과 출력 형식은 JSON 또는 마크다운 형태를 사용
- Cursor에서 바로 실행 가능한 형태로 구성
- 코드에 상세 주석 포함
- 예외 처리 및 오류 로그 출력 기능 포함
- 이미지 입력 테스트용 샘플 이미지 설명도 추가

------------------------------------------------------------
4. 파일 구조 예시
------------------------------------------------------------
project/
  ├── main.py
  ├── agent/
  │     ├── travel_agent.py
  ├── tools/
  │     ├── image_tool.py
  │     ├── search_tool.py
  │     ├── rag_tool.py
  │     ├── itinerary_tool.py
  ├── rag/
  │     ├── rag_init.py
  │     ├── dataset/
  ├── utils/
  │     ├── logger.py
  ├── ui/
  │     ├── app.py  (Streamlit UI)
  ├── requirements.txt
  └── README.md

이 구조를 기반으로 전 파일을 모두 생성해줘.

------------------------------------------------------------
5. UI 요구사항 (Streamlit)
------------------------------------------------------------
- 텍스트 입력 : 여행지/날짜/예산 입력 필드
- 이미지 업로드 : 여행 사진 업로드 기능
- “여행 일정 생성하기” 버튼
- 결과: Day별 일정 + 이미지 분석 결과 + 검색 결과를 통합 표시
- 로딩 스피너/상태 메시지 표시
- 환경 변수는 .env 파일을 다음과 같이 불러오기 :  load_dotenv("C:/env/.env")


------------------------------------------------------------
6. 최종 출력 요구사항
------------------------------------------------------------
아래 항목을 모두 포함해줘:

[1] 전체 프로젝트 파일 구조
[2] 각 파일의 코드 전체
[3] 실행 방법 (python main.py / streamlit run app.py)
[4] requirements.txt 내용
[5] 테스트용 예시 입력과 출력

교육용 실습 프로젝트로 활용 가능한 품질로 완성해줘.

[실행 방법]
cd ui
C:\Users\storm\anaconda3\python.exe -m streamlit run app.py

[입력 방법]
여행지: 파리
기간: 3일
예산: 150만원
동행 인원: 2명
선호사항: 문화, 음식

[추가 질의-1]
create_agent() 사용을 아래 소스와 같은 LangChain v1.0 최신 스타일로 수정해줘

from langchain.agents import create_agent

agent = create_agent(
    model="gpt-4o-mini",
    tools=[search_web, analyze_data, send_email],
    system_prompt="You are a helpful research assistant."
)

result = agent.invoke({
    "messages": [
        {"role": "user", "content": "Research AI safety trends"}
    ]
})

[추가 질의-2]
이미지 업로드하여 실행하면 오류나. 수정해줘